function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),AlgoliaSearch=function(){function e(){_classCallCheck(this,e),this.search=instantsearch({appId:"6S8DKDB7X0",apiKey:"22ddf196e0799a772211bebbbd41b4af",indexName:"pages",urlSync:!0}),this.addClearAll(),this.addPagination(),this.addHitsBox(),this.addSearchBox(),this.addFacets(),this.search.start(),this.search.on("render",function(){setTimeout(function(){return applyMasonry()},300)}),$("body").bind("results.received",function(e,t){t.disjunctiveFacets.length})}return _createClass(e,[{key:"addFacets",value:function(){var e={item:function(e){var t=e.isRefined?"check_box":"check_box_outline_blank",a=e.isRefined?'style="color:#ec007e"':"";return e.rendered='\n<li class="cat-item">\n           <i class="material-icons" style="vertical-align: middle;">'+t+'</i> <a href="" '+a+">"+e.label+" ("+e.count+")</a>\n</li>",e}};this.search.addWidget(instantsearch.widgets.refinementList({container:".tagsFacet",attributeName:"tags.label",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"and",transformData:e,templates:{header:'<h4 class="widget-title">Tags</h4>',item:"{{{rendered}}}"}})),this.search.addWidget(instantsearch.widgets.refinementList({container:".categoriesFacet",attributeName:"categories",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"and",transformData:e,templates:{header:'<h4 class="widget-title">Κατηγορίες</h4>',item:"{{{rendered}}}"}}))}},{key:"addHitsBox",value:function(){function e(e){var t="/page/"+e.slug,a=void 0===e._highlightResult.description?e.description:e._highlightResult.description.value;return'\n  <div class="col-xs-12 col-md-6 col-lg-4 grid-item">\n        <article class="post bg z-depth-1">\n            <div class="post-img">\n        <a href="'+t+'" title="'+e._highlightResult.title.value+'">\n            <img class="retina"\n                 src="'+e.thumb.copies.big_thumb.url+'"\n                  alt="'+e._highlightResult.title.value+'">\n        </a>\n    </div>\n            <div class="post-content">\n                <div class="post-header center-align">\n                   <h2 class="post-title">\n                   <a href="'+t+'" title="{{{item._highlightResult.name.value}}}">'+e._highlightResult.title.value+'</a></h2>\n\n                </div>\n                        <div class="algolia post-entry">\n            '+a+"\n        </div>\n            </div>\n        </article>\n        </div>\n        "}function t(t){var a=[];for(var i in t)a.push(e(t[i]));return'\n<div class="col-xs-12 col-lg-12 posts-list">\n<div class="row grid-layout">\n<div class="col-xs-12 col-md-6 col-lg-4 grid-sizer"></div>\n'+a.join("")+"\n</div>\n</div>"}var a=document.getElementById("algoliaHits");this.search.addWidget(instantsearch.widgets.hits({container:a,transformData:{allItems:function(e){return $("body").trigger("results.received",e),e.renderedItems=t(e.hits),e}},templates:{empty:"No results",allItems:"{{{renderedItems}}}"}}))}},{key:"addSearchBox",value:function(){var e=document.getElementById("algoliaSearchBox");this.search.addWidget(instantsearch.widgets.searchBox({magnifier:!1,wrapInput:!1,reset:!1,searchOnEnterKeyPressOnly:!1,container:e,placeholder:e.getAttribute("placeholder")}))}},{key:"addClearAll",value:function(){this.search.addWidget(instantsearch.widgets.clearAll({container:"#clear-all",collapsible:!0,autoHideContainer:!1,clearsQuery:!0,cssClasses:{link:"btn btn-sm btn-primary"},templates:{link:'<i class="material-icons" style="vertical-align: middle">clear</i>'}}))}},{key:"addPagination",value:function(){this.search.addWidget(instantsearch.widgets.pagination({container:"#pagination",labels:{previous:'<i class="material-icons">chevron_left</i>',next:'<i class="material-icons">chevron_right</i>'},cssClasses:{root:"pagination center-align",item:"waves-effect",active:"active"},maxPages:20,scrollTo:!1}))}}]),e}();$(document).ready(function(){document.getElementById("algoliaHits")&&new AlgoliaSearch});